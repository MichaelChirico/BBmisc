<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><title>R: Create a progress bar with estimated time.</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<link rel="stylesheet" type="text/css" href="R.css">

<link rel="stylesheet" href="http://yandex.st/highlightjs/7.3/styles/github.min.css">
<script src="http://yandex.st/highlightjs/7.3/highlight.min.js"></script>
<script src="http://yandex.st/highlightjs/7.3/languages/r.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
</head><body>

<table width="100%" summary="page for makeProgressBar {BBmisc}"><tr><td>makeProgressBar {BBmisc}</td><td align="right">R Documentation</td></tr></table>

<h2>Create a progress bar with estimated time.</h2>

<h3>Description</h3>

<p>Create a progress bar function that displays the estimated time till
completion and optional messages. Call the returned functions <code>set</code> or
<code>inc</code> during a loop to change the display.
Note that you are not allowed to decrease the value of the bar.
If you call these function without setting any of the arguments
the bar is simply redrawn with the current value.
For errorhandling use <code>error</code> and have a look at the example below.
</p>
<p>You can globally change the behavior of all bars by setting the option
<code>options(BBmisc.ProgressBar.style)</code> either to &ldquo;text&rdquo; (the default)
or &ldquo;off&rdquo;, which display no bars at all.
</p>
<p>You can globally change the width of all bars by setting the option
<code>options(BBmisc.ProgressBar.width)</code>. By default this is <code>getOption("width")</code>.
</p>
<p>You can globally set the stream where the output of the bar is directed by setting the option
<code>options(BBmisc.ProgressBar.stream)</code> either to &ldquo;stderr&rdquo; (the default)
or &ldquo;stdout&rdquo;. Note that using the latter will result in the bar being shown in
reports generated by Sweave or knitr, what you probably do not want.
</p>


<h3>Usage</h3>

<pre>
makeProgressBar(min = 0, max = 100, label = "", char = "+")
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>min</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
Minimum value, default is 0.</p>
</td></tr>
<tr valign="top"><td><code>max</code></td>
<td>
<p>[<code>numeric(1)</code>]<br>
Maximum value, default is 100.</p>
</td></tr>
<tr valign="top"><td><code>label</code></td>
<td>
<p>[<code>character(1)</code>]<br>
Label shown in front of the progress bar.
Note that if you later set <code>msg</code> in the progress bar function,
the message will be left-padded to the length of this label, therefore
it should be at least as long as the longest message you want to display.
Default is &ldquo;&rdquo;.</p>
</td></tr>
<tr valign="top"><td><code>char</code></td>
<td>
<p>[<code>character(1)</code>]<br>
A single character used to display progress in the bar.
Default is &lsquo;+&rsquo;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>[<code><a href="makeProgressBar.html">ProgressBar</a></code>]. A list with following functions:
</p>
<table summary="R valueblock">
<tr valign="top"><td><code>set [<code>function(value, msg = label)</code>]</code></td>
<td>
<p>Set the bar to a value and possibly display a message instead of the label.</p>
</td></tr>
<tr valign="top"><td><code>inc [<code>function(value, msg = label)</code>]</code></td>
<td>
<p>Increase the bar and possibly display a message instead of the label.</p>
</td></tr>
<tr valign="top"><td><code>kill [<code>function(clear = FALSE)</code>]</code></td>
<td>
<p>Kill the bar so it cannot be used anymore. Cursor is moved to new line. You can also erase its display.</p>
</td></tr>
<tr valign="top"><td><code>error [<code>function(e)</code>]</code></td>
<td>
<p>Useful in <code>tryCatch</code> to properly display error messages below the bar. See the example.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class="r">bar = makeProgressBar(max = 5, label = &quot;test-bar&quot;)
for (i in 0:5) {
  bar$set(i)
  Sys.sleep(0.2)
}
bar = makeProgressBar(max = 5, label = &quot;test-bar&quot;)
for (i in 1:5) {
  bar$inc(1)
  Sys.sleep(0.2)
}
# display errors properly (in next line)
## Not run: 
##D f = function(i) if (i&gt;2) stop(&quot;foo&quot;)
##D bar = makeProgressBar(max = 5, label = &quot;test-bar&quot;)
##D for (i in 1:5) {
##D   tryCatch ({
##D     f(i)
##D     bar$set(i)
##D   }, error = bar$error)
##D }
## End(Not run)
</code></pre>


<hr><div align="center">[Package <em>BBmisc</em> version 1.7 <a href="00Index.html">Index</a>]</div>
</body></html>
